(function(){let e=THREE,t=window,n=Math,r=new Map,y={x:0,y:0,z:0},x={x:1,y:0,z:0},i="xz",l=[],z,a=document,d=a.getElementById.bind(a),o,u,p,h=100,m=0,c=({x:e,y:t,z:n})=>{if(i=="xz"){i=e==1||e==-1?"yz":"xy";return{x:0,y:1,z:0}}else if(i=="xy"){i=e==1||e==-1?"yz":"xz";return{x:0,y:0,z:1}}else{i=t==1||t==-1?"xz":"xy";return{x:1,y:0,z:0}}},w=({x:e,y:t,z:n})=>{let r=c({x:e,y:t,z:n});return{x:-r.x,y:-r.y,z:-r.z}},g=({x:e,y:t,z:n})=>i=="xz"?{x:n,y:0,z:-e}:i=="xy"?{x:t,y:-e,z:0}:{x:0,y:-n,z:t},M=({x:e,y:t,z:n})=>g({x:-1*e,y:-1*t,z:-1*n}),$=(e,t)=>{e={x:e.x+t.x,y:e.y+t.y,z:e.z+t.z};let n=`${e.x}.${e.y}.${e.z}`,y=r.get(n)||0;rule=l[y];t=rule=="l"?M(t):rule=="r"?g(t):rule=="u"?c(t):w(t);r.set(n,y>=l.length-1?0:y+1);return{antPos:e,antDir:t}},f=()=>{let n=t.innerWidth;ih=innerHeight;o=new e.PerspectiveCamera(70,n/ih);u=new e.Scene;let r=new e.AmbientLight(16777215,1);u.add(r);p=new e.WebGLRenderer;p.setSize(n,ih);document.body.appendChild(p.domElement)},b=()=>{t.s1?k.pause():requestAnimationFrame(b);E();A()},E=()=>{let t=2;let n=new e.BoxBufferGeometry(t,t,t);let i=z[r.get(`${y.x}.${y.y}.${y.z}`)||0];let l=new e.Mesh(n,new e.MeshLambertMaterial({color:i}));let a=l.position;a.x=y.x*t+10;a.y=y.y*t+10;a.z=y.z*t+10;let d=l.scale;d.x=1;d.y=1;d.z=1;u.add(l);let{antPos:o,antDir:s}=$(y,x);y=o;x=s},A=()=>{m+=.5;let t=e.Math.degToRad(m),r=n.sin,y=o.position;y.x=h*r(t);y.y=h*r(t);y.z=h*n.cos(t);o.lookAt(u.position);o.updateMatrixWorld();p.render(u,o)},L=e=>e!="g"&&l.push(e),k=new Audio("vc.mp3");a.addEventListener("keypress",e=>{let n=e.key;"ldrug".match(n)&&d("rs").appendChild(d(`r${n}`).cloneNode(1))&&L(n);n=="g"&&s();if(n=="s")t.s1=1});t.s=(()=>{z=l.map(()=>n.random()*16777215);f();b();k.play()})})();
