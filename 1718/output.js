(function(){let e=THREE;let t=window;let n=Math;let i=new Map;let l={x:0,y:0,z:0};let o={x:1,y:0,z:0};let r="xz";let x=({x:e,y:t,z:n})=>{if(r==="xz"){r=e>0?"yz":"xy";return{x:0,y:1,z:0}}else if(r==="xy"){r=e>0?"yz":"xz";return{x:0,y:0,z:1}}else{r=t>0?"xz":"xy";return{x:1,y:0,z:0}}};let a=({x:e,y:t,z:n})=>{let i=x({x:e,y:t,z:n});return{x:-i.x,y:-i.y,z:-i.z}};let y=({x:e,y:t,z:n})=>r==="xz"?{x:n,y:0,z:-e}:r==="xy"?{x:t,y:-e,z:0}:{x:0,y:-n,z:t};let z=({x:e,y:t,z:n})=>y({x:-1*e,y:-1*t,z:-1*n});let s,d;let c=(e,t)=>{e={x:e.x+t.x,y:e.y+t.y,z:e.z+t.z};let n=`${e.x}.${e.y}.${e.z}`;let l=i.get(n)||0;rule=s[l];switch(rule){case"L":t=z(t);break;case"R":t=y(t);break;case"U":t=x(t);break;case"D":t=a(t)}i.set(n,l>=s.length-1?0:l+1);return{antPos:e,antDir:t}};let u,p,m;let h=100,w=0;t.s=(()=>{s=document.getElementById("r").value;d=s.split("").map(()=>n.random()*16777215);f();g()});function f(){u=new e.PerspectiveCamera(70,t.innerWidth/t.innerHeight);p=new e.Scene;let n=new e.AmbientLight(1048575,1);p.add(n);m=new e.WebGLRenderer;m.setPixelRatio(t.devicePixelRatio);m.setSize(t.innerWidth,t.innerHeight);document.body.appendChild(m.domElement)}function g(){t.s1||requestAnimationFrame(g);b();M()}function b(){let t=2;let n=new e.BoxBufferGeometry(t,t,t);let r=d[i.get(`${l.x}.${l.y}.${l.z}`)||0];let x=new e.Mesh(n,new e.MeshLambertMaterial({color:r}));x.position.x=l.x*t+10;x.position.y=l.y*t+10;x.position.z=l.z*t+10;x.scale.x=1;x.scale.y=1;x.scale.z=1;p.add(x);let{antPos:a,antDir:y}=c(l,o);l=a;o=y}function M(){w+=.5;let t=e.Math.degToRad(w);let i=n.sin;u.position.x=h*i(t);u.position.y=h*i(t);u.position.z=h*n.cos(t);u.lookAt(p.position);u.updateMatrixWorld();m.render(p,u)}})();
